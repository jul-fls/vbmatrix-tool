/* Base grid: 1 column on mobile, auto-fit upwards */
.matrix-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem;
  width: 100%;
  padding-bottom: 4rem;
}

/* ≥640px (landscape phones, tablets): 2 columns */
@media (min-width: 640px) {
  .matrix-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ≥1024px (desktop): 3 columns */
@media (min-width: 1024px) {
  .matrix-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ≥1440px (wide monitors): 4 columns */
@media (min-width: 1440px) {
  .matrix-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (max-height: 500px) {
  .matrix-card { padding: 0.5rem; }
  .matrix-item { font-size: 0.75rem; }
}

/* Card styling */
.matrix-card {
  background-color: #111827;
  border: 1px solid #1f2937;
  border-radius: 0.75rem;
  padding: 0.75rem;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  transition: transform 0.2s ease;
}

.matrix-card:hover {
  transform: scale(1.01);
}

/* Internal items list */
.matrix-list {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

/* Each input→output connection */
.matrix-item {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  transition: all 0.2s ease-in-out;
  font-size: 0.85rem;
}

.matrix-item.connected {
  background-color: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.matrix-item.disconnected {
  background-color: rgba(55, 65, 81, 0.3);
  border: 1px dashed rgba(75, 85, 99, 0.6);
}

.matrix-item:hover {
  background-color: rgba(37, 99, 235, 0.25);
  cursor: pointer;
}

/* Controls area (mute / slider / reset) */
.matrix-item .flex {
  flex-wrap: wrap;
  justify-content: flex-start;
}

input[type="range"] {
  width: 100%;
  max-width: 8rem;
  touch-action: none;
}

button {
  min-width: 2.25rem;
  min-height: 2.25rem;
}

/* Fade animation for activation */
@keyframes fadeIn {
  from { background-color: rgba(34,197,94,0.6); }
  to { background-color: rgba(16,83,16,0.2); }
}
.animate-fadeIn {
  animation: fadeIn 0.8s ease-out;
}
